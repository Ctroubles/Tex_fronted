{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/Usuario/Desktop/TEX/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/Usuario/Desktop/TEX/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/Usuario/Desktop/TEX/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from'react';import style from'./ControlPanel.module.css';import{PieChart,Pie,Legend,Cell,Tooltip,ResponsiveContainer}from'recharts';import axios,{all}from'axios';import url from\"../../../utils/deploy_back.js\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var COLORS=['#FF5733','#C70039','#900C3F','#581845','#227093','#4CAF50','#FBC02D','#E0E0E0','#FF80AB','#9C27B0','#0D47A1',\"#ADD8E6\",\"#FFE5B4\"];var ControlPanel=function ControlPanel(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),allDataStock=_useState2[0],setAllDataStock=_useState2[1];var _useState3=useState(true),_useState4=_slicedToArray(_useState3,2),loading=_useState4[0],setLoading=_useState4[1];useEffect(function(){var getDataStock=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var _yield$axios$get$catc,data,dataFilter;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get(\"\".concat(url,\"/components/stock/all\")).catch(function(error){return alert(\"Error en la tabla productos de admin al obtener la data\");});case 2:_yield$axios$get$catc=_context.sent;data=_yield$axios$get$catc.data;if(data.length){dataFilter=data===null||data===void 0?void 0:data.map(function(item){if(item.stock>0){return{name:item.category,value:item.stock};}});setAllDataStock(dataFilter);setLoading(false);}case 5:case\"end\":return _context.stop();}},_callee);}));return function getDataStock(){return _ref.apply(this,arguments);};}();getDataStock();},[]);useEffect(function(){console.log(allDataStock);},[allDataStock]);return/*#__PURE__*/_jsxs(\"div\",{children:[loading?/*#__PURE__*/_jsx(\"div\",{class:style.loader}):undefined,/*#__PURE__*/_jsxs(\"div\",{className:style.card,children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Control Panel\"}),/*#__PURE__*/_jsx(\"div\",{className:style.card_header,children:/*#__PURE__*/_jsx(\"p\",{children:\"Vea los datos de su organizacion en una forma simplificada.\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:style.card,children:[/*#__PURE__*/_jsx(\"div\",{className:style.card_header,children:/*#__PURE__*/_jsx(\"h1\",{children:\"Stock\"})}),/*#__PURE__*/_jsx(\"div\",{className:style.card_body,children:/*#__PURE__*/_jsxs(\"div\",{className:style.gridContainer,children:[/*#__PURE__*/_jsx(\"div\",{className:style.column,children:/*#__PURE__*/_jsxs(PieChart,{width:400,height:400,children:[/*#__PURE__*/_jsx(Pie,{dataKey:\"value\",isAnimationActive:true,data:allDataStock&&allDataStock,outerRadius:120,fill:\"#c2521c\",label:true,children:allDataStock&&(allDataStock===null||allDataStock===void 0?void 0:allDataStock.map(function(entry,index){return/*#__PURE__*/_jsx(Cell,{fill:COLORS[index]},\"cell-\".concat(index));}))}),/*#__PURE__*/_jsx(Tooltip,{})]})}),/*#__PURE__*/_jsx(\"div\",{className:style.column,style:{marginLeft:'80px',marginTop:'70px'},children:/*#__PURE__*/_jsx(\"ul\",{style:{listStyle:'none'},children:allDataStock===null||allDataStock===void 0?void 0:allDataStock.map(function(item,index){return/*#__PURE__*/_jsxs(\"li\",{style:{textDecoration:'none'},children:[/*#__PURE__*/_jsx(\"span\",{className:style.cuadraditoColor,style:{backgroundColor:COLORS[index]},children:\"\\xA0\\xA0\\xA0\\xA0\"}),/*#__PURE__*/_jsx(\"span\",{style:{paddingRight:'20px'},children:item.name})]});})})})]})})]})]});};export default ControlPanel;","map":{"version":3,"names":["React","useEffect","useState","style","PieChart","Pie","Legend","Cell","Tooltip","ResponsiveContainer","axios","all","url","jsx","_jsx","jsxs","_jsxs","COLORS","ControlPanel","_useState","_useState2","_slicedToArray","allDataStock","setAllDataStock","_useState3","_useState4","loading","setLoading","getDataStock","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","_yield$axios$get$catc","data","dataFilter","wrap","_callee$","_context","prev","next","get","concat","catch","error","alert","sent","length","map","item","stock","name","category","value","stop","apply","arguments","console","log","children","class","loader","undefined","className","card","card_header","card_body","gridContainer","column","width","height","dataKey","isAnimationActive","outerRadius","fill","label","entry","index","marginLeft","marginTop","listStyle","textDecoration","cuadraditoColor","backgroundColor","paddingRight"],"sources":["C:/Users/Usuario/Desktop/TEX/client/src/admin/view/ControlPanel/ControlPanel.js"],"sourcesContent":["import React, { useEffect, useState } from 'react'\r\nimport style from './ControlPanel.module.css';\r\nimport { PieChart, Pie, Legend, Cell, Tooltip, ResponsiveContainer } from 'recharts';\r\nimport axios, { all } from 'axios';\r\nimport url from \"../../../utils/deploy_back.js\";\r\n\r\n\r\nconst COLORS = [\r\n'#FF5733',\r\n'#C70039',\r\n'#900C3F',\r\n'#581845',\r\n'#227093',\r\n'#4CAF50',\r\n'#FBC02D',\r\n'#E0E0E0',\r\n'#FF80AB',\r\n'#9C27B0',\r\n'#0D47A1',\r\n\"#ADD8E6\",\r\n\"#FFE5B4\"];\r\n\r\nconst ControlPanel = () => {\r\n  \r\n\r\n  const [allDataStock, setAllDataStock] = useState([])\r\n\r\nconst [loading, setLoading] = useState(true)\r\n\r\n  useEffect(() => {\r\n    const getDataStock =async()=>{\r\n        const {data} = await axios.get(`${url}/components/stock/all`).catch(error => alert(\"Error en la tabla productos de admin al obtener la data\"));\r\n        if (data.length) {\r\n            const dataFilter = data?.map(item => {\r\n              if (item.stock > 0) {\r\n                return {\r\n                  name: item.category,\r\n                  value: item.stock\r\n                }\r\n              }\r\n            })\r\n            setAllDataStock(dataFilter)\r\n            setLoading(false)\r\n        }\r\n    }\r\n    getDataStock()\r\n}, [])\r\n  \r\nuseEffect(() => {\r\n  console.log(allDataStock);\r\n}, [allDataStock])\r\n\r\n  return (\r\n    <div>\r\n              {\r\n            loading ? <div class={style.loader}></div> : undefined\r\n        }\r\n        <div className={style.card}>\r\n            <h1>Control Panel</h1>\r\n            <div className={style.card_header}>\r\n            <p>\r\n                Vea los datos de su organizacion en una forma simplificada.\r\n            </p>\r\n\r\n            </div>\r\n        </div>\r\n\r\n        <div className={style.card}>\r\n            <div className={style.card_header}>\r\n              <h1>Stock</h1>\r\n            </div>\r\n            <div className={style.card_body}>\r\n            <div className={style.gridContainer}>\r\n              <div className={style.column}>\r\n                <PieChart width={400} height={400}>\r\n                  <Pie\r\n                    dataKey=\"value\"\r\n                    isAnimationActive={true}\r\n                    data={allDataStock && allDataStock}\r\n                    outerRadius={120}\r\n                    fill=\"#c2521c\"\r\n                    label\r\n                  >\r\n                  {allDataStock && allDataStock?.map((entry, index) => (\r\n                    <Cell key={`cell-${index}`} fill={COLORS[index]} />\r\n                  ))}\r\n                  </Pie>\r\n                  <Tooltip  />\r\n                </PieChart>\r\n              </div>\r\n              <div className={style.column} style={{marginLeft: '80px', marginTop: '70px'}}>\r\n                <ul style={{listStyle: 'none'}}>\r\n                  {\r\n                    allDataStock?.map((item,index) => \r\n                      <li style={{textDecoration: 'none'}}>\r\n                        <span className={style.cuadraditoColor} style={{backgroundColor: COLORS[index]}}>&nbsp;&nbsp;&nbsp;&nbsp;</span>\r\n                        <span style={{paddingRight: '20px'}}>{item.name}</span>\r\n                      </li>\r\n                    )\r\n                  }\r\n                </ul>\r\n              </div>\r\n            </div>\r\n            </div>\r\n        </div>\r\n       \r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ControlPanel"],"mappings":"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"},"metadata":{},"sourceType":"module"}