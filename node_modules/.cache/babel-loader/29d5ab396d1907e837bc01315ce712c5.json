{"ast":null,"code":"import _slicedToArray from\"C:/Users/Usuario/Desktop/TEX/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import style from\"./ShoppingCart.module.css\";import{useSelector}from\"react-redux\";import CardShoppingCart from\"./CardShoppingCart/CardShoppingCart\";import{Link}from\"react-router-dom\";import{useEffect,useState}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ShoppingCart=function ShoppingCart(props){var itemsToBuy=useSelector(function(e){return e.shoppingCart;});var _useState=useState(0),_useState2=_slicedToArray(_useState,2),totalPrice=_useState2[0],setTotalPrice=_useState2[1];useEffect(function(){var num=0;itemsToBuy.forEach(function(e){var price=e.price;if(e.quantity)price=price*e.quantity;num=num+price;});setTotalPrice(num);},[itemsToBuy]);var finalizarHandler=function finalizarHandler(){if(props.isAuthenticated)props.history.push(\"/finalizar\");else props.setPopoutFinalizar(true);};return/*#__PURE__*/_jsxs(\"div\",{id:style.ShoppingCart,ref:props.refCart,children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"h1\",{children:\"Carrito de compras\"})}),itemsToBuy.length?/*#__PURE__*/_jsx(\"div\",{style:{maxHeight:'560px',overflowY:'auto',overflowX:'hidden',paddingRight:'0px'},id:style.cardContainer,children:itemsToBuy.map(function(e){return/*#__PURE__*/_jsx(CardShoppingCart,{title:e.name,img:e.img,id:e._id,cantidad:e.quantity,refToTrash:props.refToTrash},e._id);})}):null,!itemsToBuy.length?/*#__PURE__*/_jsx(\"div\",{id:style.empty,children:/*#__PURE__*/_jsx(\"p\",{children:\"Tu carrito est\\xE1 vac\\xEDo :(\"})}):null,itemsToBuy.length?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"span\",{children:[/*#__PURE__*/_jsx(\"span\",{ref:props.buttonComprarRef,onClick:function onClick(){return finalizarHandler();},to:\"/finalizar\",children:\"Comprar\"}),\" \"]}),/*#__PURE__*/_jsxs(\"h3\",{children:[\"$\",totalPrice]})]}):null]});};export default ShoppingCart;","map":{"version":3,"names":["style","useSelector","CardShoppingCart","Link","useEffect","useState","jsx","_jsx","jsxs","_jsxs","ShoppingCart","props","itemsToBuy","e","shoppingCart","_useState","_useState2","_slicedToArray","totalPrice","setTotalPrice","num","forEach","price","quantity","finalizarHandler","isAuthenticated","history","push","setPopoutFinalizar","id","ref","refCart","children","length","maxHeight","overflowY","overflowX","paddingRight","cardContainer","map","title","name","img","_id","cantidad","refToTrash","empty","buttonComprarRef","onClick","to"],"sources":["C:/Users/Usuario/Desktop/TEX/client/src/views/Tienda/Tienda_components/ShoppingCart/ShoppingCart.jsx"],"sourcesContent":["import style from \"./ShoppingCart.module.css\"\r\nimport { useSelector } from \"react-redux\";\r\nimport CardShoppingCart from \"./CardShoppingCart/CardShoppingCart\";\r\nimport {Link} from \"react-router-dom\";\r\nimport { useEffect, useState } from \"react\";\r\n\r\n\r\nconst ShoppingCart = (props) =>{\r\n    const itemsToBuy = useSelector(e=>e.shoppingCart)\r\n    const [totalPrice,setTotalPrice] = useState(0)\r\n\r\n    useEffect(()=>{\r\n        let num = 0;\r\n        itemsToBuy.forEach(e => {\r\n            let price = e.price\r\n            if(e.quantity)price=price*e.quantity\r\n            num = num + price\r\n        });\r\n        setTotalPrice(num)\r\n\r\n    },[itemsToBuy])\r\n\r\n    const finalizarHandler = () =>{\r\n        if (props.isAuthenticated)props.history.push(\"/finalizar\");\r\n        else props.setPopoutFinalizar(true);\r\n    }\r\n\r\n    return(\r\n    <div id={style.ShoppingCart} ref={props.refCart}>\r\n           <div>\r\n            <h1>Carrito de compras</h1>\r\n        </div>\r\n       {itemsToBuy.length?<div style={{maxHeight: '560px',\r\n                overflowY: 'auto',\r\n                overflowX: 'hidden',\r\n                paddingRight: '0px',}} id={style.cardContainer}>\r\n           {itemsToBuy.map(e=> <CardShoppingCart key={e._id} title={e.name} img={e.img} id={e._id}  cantidad={e.quantity} refToTrash={props.refToTrash}/>)}\r\n        </div>:null }\r\n        {!itemsToBuy.length?<div id={style.empty}>\r\n           <p>Tu carrito está vacío :(</p>\r\n        </div>:null}\r\n        {itemsToBuy.length?<div>\r\n            <span><span ref={props.buttonComprarRef} onClick={()=>finalizarHandler()} to={\"/finalizar\"}>Comprar</span> </span>\r\n            <h3>${totalPrice}</h3>\r\n        </div>:null}\r\n    </div>\r\n    )\r\n};\r\n\r\nexport default ShoppingCart;"],"mappings":"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"},"metadata":{},"sourceType":"module"}