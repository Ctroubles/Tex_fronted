{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/Usuario/Desktop/TEX/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/Usuario/Desktop/TEX/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/Usuario/Desktop/TEX/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import style from\"./App.module.css\";import{Route,Redirect}from\"react-router-dom\";import{Landing,PerfilUsuario}from\"./views/index.js\";import{useLocation}from\"react-router-dom\";import Construye from\"./views/Construye/Construye\";import Admin from\"./admin/view/Admin.jsx\";import{useEffect,useRef,useState}from\"react\";import ShoppingView from\"./views/Shopping/Shopping.jsx\";import{useAuth0}from\"@auth0/auth0-react\";import axios from\"axios\";import{useHistory}from\"react-router-dom\";import GeneralLoading from\"./views/General_Loading/GeneralLoading.jsx\";import Tienda from\"./views/Tienda/Tienda\";import Forja from\"./views/Forja/Forja.jsx\";import Checkout from\"./views/Checkout/Checkout\";import OrdenGenerada from\"./views/OrdenGenerada/OrdenGenerada.jsx\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var history=useHistory();var _useAuth=useAuth0(),user=_useAuth.user,isAuthenticated=_useAuth.isAuthenticated,loginWithRedirect=_useAuth.loginWithRedirect,isLoading=_useAuth.isLoading,logout=_useAuth.logout;var headerRef=useRef(null);var location=useLocation();var _useState=useState(0),_useState2=_slicedToArray(_useState,2),paddingMain=_useState2[0],setPadingMain=_useState2[1];var _useState3=useState({}),_useState4=_slicedToArray(_useState3,2),currentUser=_useState4[0],setCurrentUser=_useState4[1];var _useState5=useState(true),_useState6=_slicedToArray(_useState5,2),loadinStatus=_useState6[0],setLoadingStatus=_useState6[1];useEffect(function(){setPadingMain(95);},[]);useEffect(function(){var setting=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){var postUser;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:postUser=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:case\"end\":return _context.stop();}},_callee);}));return function postUser(){return _ref2.apply(this,arguments);};}();// if(isAuthenticated) await postUser()\nif(!isLoading)setLoadingStatus(false);case 2:case\"end\":return _context2.stop();}},_callee2);}));return function setting(){return _ref.apply(this,arguments);};}();setting();},[user,isLoading]);useEffect(function(){var userBanned=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(){return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:case\"end\":return _context3.stop();}},_callee3);}));return function userBanned(){return _ref3.apply(this,arguments);};}();});if(!loadinStatus){return/*#__PURE__*/_jsxs(\"div\",{id:style.AbsoluteContaier,children:[/*#__PURE__*/_jsx(Route,{exact:true,path:\"/\",render:function render(){return/*#__PURE__*/_jsx(Landing,{});}}),/*#__PURE__*/_jsx(Route,{path:\"/tienda\",render:function render(){return/*#__PURE__*/_jsx(Tienda,{});}}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/perfil\",render:function render(){return!isAuthenticated?loginWithRedirect():/*#__PURE__*/_jsx(PerfilUsuario,{});}}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/forja\",render:function render(){return/*#__PURE__*/_jsx(Forja,{});}}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/finalizar\",render:function render(){return/*#__PURE__*/_jsx(ShoppingView,{userId:currentUser._id});}}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/finalizar/checkout\",render:function render(){return/*#__PURE__*/_jsx(Checkout,{userId:currentUser._id});}}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/pedidos/:norden/:id\",render:function render(){return/*#__PURE__*/_jsx(OrdenGenerada,{});}})]});}else{return/*#__PURE__*/_jsx(GeneralLoading,{});}}export default App;","map":{"version":3,"names":["style","Route","Redirect","Landing","PerfilUsuario","useLocation","Construye","Admin","useEffect","useRef","useState","ShoppingView","useAuth0","axios","useHistory","GeneralLoading","Tienda","Forja","Checkout","OrdenGenerada","jsx","_jsx","jsxs","_jsxs","App","history","_useAuth","user","isAuthenticated","loginWithRedirect","isLoading","logout","headerRef","location","_useState","_useState2","_slicedToArray","paddingMain","setPadingMain","_useState3","_useState4","currentUser","setCurrentUser","_useState5","_useState6","loadinStatus","setLoadingStatus","setting","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee2","postUser","wrap","_callee2$","_context2","prev","next","_ref2","_callee","_callee$","_context","stop","apply","arguments","userBanned","_ref3","_callee3","_callee3$","_context3","id","AbsoluteContaier","children","exact","path","render","userId","_id"],"sources":["C:/Users/Usuario/Desktop/TEX/client/src/App.js"],"sourcesContent":["import style from \"./App.module.css\";\r\nimport {Route, Redirect} from \"react-router-dom\";\r\nimport { Landing,PerfilUsuario } from \"./views/index.js\";\r\nimport { useLocation } from \"react-router-dom\";\r\nimport Construye from \"./views/Construye/Construye\";\r\nimport Admin from \"./admin/view/Admin.jsx\";\r\nimport {useEffect, useRef, useState} from \"react\";\r\nimport ShoppingView from \"./views/Shopping/Shopping.jsx\";\r\nimport { useAuth0 } from \"@auth0/auth0-react\";\r\nimport axios from \"axios\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport GeneralLoading from \"./views/General_Loading/GeneralLoading.jsx\"\r\nimport Tienda from \"./views/Tienda/Tienda\";\r\nimport Forja from \"./views/Forja/Forja.jsx\"\r\nimport Checkout from \"./views/Checkout/Checkout\";\r\nimport OrdenGenerada from \"./views/OrdenGenerada/OrdenGenerada.jsx\";\r\n\r\n\r\n\r\nfunction App() {\r\n  const history = useHistory();\r\n\r\n  const { user,isAuthenticated,loginWithRedirect,isLoading,logout} = useAuth0()\r\n\r\n  const headerRef = useRef(null)\r\n  const location = useLocation();\r\n\r\n  const [paddingMain,setPadingMain] = useState(0)\r\n  const [currentUser, setCurrentUser]=useState({})\r\n  const [loadinStatus, setLoadingStatus]=useState(true)\r\n\r\n  useEffect(()=>{\r\n    setPadingMain(95)\r\n  },[])\r\n  \r\n\r\n  useEffect(()=>{\r\n    const setting = async()=>{\r\n      const postUser=async()=>{\r\n        // const {data} = await axios.post(`${urlBack}/users`,{email:user.email }).catch(err=>logout({ returnTo: window.location.origin}))\r\n        // if (data) setCurrentUser(data)\r\n      }\r\n      // if(isAuthenticated) await postUser()\r\n        if(!isLoading)setLoadingStatus(false)\r\n      \r\n    }\r\n    setting()\r\n   \r\n  },[user,isLoading])\r\n  \r\n\r\n  useEffect(()=>{\r\n    const userBanned = async()=>{\r\n    // const userr = await axios.get(`${urlBack}/users/db/${user.email}`)\r\n    // if(userr.data.isActive===false){\r\n    //   alert(\"User is banned. Please contact us for more information\")\r\n    //   logout({ returnTo: window.location.origin })\r\n    // }\r\n  }\r\n\r\n  })\r\n  \r\n\r\n  if (!loadinStatus) {\r\n    return (\r\n      <div id={style.AbsoluteContaier}>\r\n          <Route exact path={\"/\"} render={()=> <Landing/>}/>\r\n          <Route  path={\"/tienda\"} render={()=> <Tienda/>}/>\r\n          <Route exact path={\"/perfil\"} render={()=>!isAuthenticated?loginWithRedirect():<PerfilUsuario/>}/>\r\n          <Route exact path={\"/forja\"} render={()=> <Forja/>}/>\r\n          <Route exact path={\"/finalizar\"} render={()=> <ShoppingView userId={currentUser._id}/>}/>\r\n          <Route exact path={\"/finalizar/checkout\"} render={()=> <Checkout userId={currentUser._id}/>}/>\r\n          <Route exact path={\"/pedidos/:norden/:id\"} render={()=> <OrdenGenerada/>}/>\r\n          {/* { location.pathname!=='/' && !location.pathname.toLowerCase().includes('/admin') && location.pathname!=='/shoppingcart' && <Header headerRef={headerRef} isAdmin={currentUser?.isAdmin}/>}\r\n          { location.pathname!=='/' &&  !location.pathname.toLowerCase().includes('/admin') && location.pathname!=='/shoppingcart' &&<div id={style.bodyMain} style={{paddingTop:`${paddingMain}px`}}>\r\n          <Route exact path={\"/productos\"} render={()=> <Productos/>} />\r\n          <Route exact path={\"/producto/:id\"} render={()=> <DetalleProducto/>} />\r\n          <Route path={\"/construye\"} render={()=> <Construye/>} />\r\n          <Route exact path={\"/compra\"} render={()=> <Compra/>}/>\r\n          <Route exact path={\"/profile/miscompras\"} render={()=>!isAuthenticated?loginWithRedirect():<MisCompras currentUser={currentUser}/>}/>\r\n          {/* <Route exact path={\"/edituser\"} render={()=> <EditUser/>}/>\r\n          <Route exact path={\"/edituser\"} render={()=> <EditUser/>}/> */}\r\n          {/*<Route exact path={\"/ayuda\"} render={()=> <Ayuda/>}/> }\r\n          </div>\r\n          }\r\n          <Route exact path={\"/notfound\"} render={()=> <NotFound/>}/>\r\n          <Route path={\"/admin\"} render={()=>!isAuthenticated?loginWithRedirect():currentUser?.isAdmin?<Admin/>:history.push(\"/productos\")}/>\r\n          <Route exact path={\"/nosotros\"} render={()=><Nosotros/>}/>\r\n          { location.pathname!=='/' && !location.pathname.toLowerCase().includes('/admin') &&  location.pathname!=='/shoppingcart' &&  <Footer/>}\r\n          <Route path=\"*\"> <Redirect to=\"/notfound\" /> </Route> */}\r\n      </div>\r\n    );\r\n  }else{\r\n    return(\r\n        <GeneralLoading/>\r\n    )\r\n  \r\n  }\r\n\r\n\r\n}\r\n\r\nexport default App;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}